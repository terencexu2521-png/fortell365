# 本地测试指南

## 📋 测试前检查清单

在部署到Vercel之前，请确保完成以下检查：

### ✅ 文件结构检查
```
fortune-app/
├── dist/                    # 构建目录（用于部署）
│   ├── index.html          # ✅ 主入口文件（语言：zh-CN，SEO配置完整）
│   ├── favicon.svg         # ✅ 网站图标
│   ├── robots.txt          # ✅ 搜索引擎规则
│   ├── sitemap.xml         # ✅ 站点地图
│   └── assets/             # ✅ 静态资源
│       ├── index-xxxxx.js
│       └── index-xxxxx.css
├── public/                 # 静态资源目录
│   ├── favicon.svg
│   ├── robots.txt
│   ├── sitemap.xml
│   └── use.txt
├── src/                    # 源码目录
├── vercel.json             # ✅ Vercel配置（支持SPA路由）
├── package.json
└── vite.config.ts
```

### ✅ 技术要求检查

1. **index.html文件** ✅
   - 语言设置为 `lang="zh-CN"`
   - 包含完整的SEO元数据（标题、描述、关键词）
   - 包含Open Graph标签（社交分享用）
   - 包含正确的资源引用

2. **文件结构清晰** ✅
   - CSS和JS资源在 `/assets/` 目录
   - 图片和图标在 `/public/` 目录
   - 所有路径引用正确

3. **Vercel配置** ✅
   - `vercel.json` 文件存在
   - 配置了SPA路由（所有请求重定向到index.html）
   - 配置了缓存和安全头

---

## 🧪 本地测试方法

### 方法1：使用Vite开发服务器（推荐）

```bash
# 进入项目目录
cd fortune-app

# 安装依赖（如果尚未安装）
npm install

# 启动开发服务器
npm run dev
```

然后在浏览器中打开显示的地址（通常是 `http://localhost:5173`）

**测试项目：**
- [ ] 页面正常加载
- [ ] 所有按钮可点击
- [ ] 导航功能正常
- [ ] 表单可以提交
- [ ] 图片显示正确
- [ ] 响应式布局正常（尝试不同屏幕尺寸）

### 方法2：直接打开构建后的HTML文件

```bash
# 进入构建目录
cd fortune-app/dist

# 使用Python启动简单HTTP服务器（推荐）
python3 -m http.server 8000

# 或使用Node.js
npx serve .
```

然后在浏览器中打开 `http://localhost:8000`

**注意：** 由于是SPA应用，某些路由可能需要通过开发服务器访问才能正常工作。

### 方法3：使用VS Code Live Server插件

1. 在VS Code中打开 `fortune-app/dist/index.html`
2. 右键点击选择 "Open with Live Server"
3. 浏览器会自动打开

---

## 🔍 功能测试清单

### 首页测试
- [ ] 页面标题显示正确："灵感命理 - 塔罗占卜与命理洞察"
- [ ] 四个服务卡片显示正常（八字、紫微斗数、塔罗、九宫）
- [ ] 点击服务卡片跳转到正确页面
- [ ] 免费体验标签显示
- [ ] 底部版权信息显示

### 生成页面测试
- [ ] 页面标题正确
- [ ] 表单字段可输入
- [ ] 姓名必填验证
- [ ] 出生日期选择器正常
- [ ] 出生时辰选择正常
- [ ] 性别选择按钮正常
- [ ] 问题描述文本框正常
- [ ] 示例问题可点击填入
- [ ] 提交按钮可点击
- [ ] 加载动画正常显示
- [ ] 提交后跳转到报告页

### 报告页面测试
- [ ] 报告内容显示完整
- [ ] 分享功能正常（如有）
- [ ] 返回按钮正常

### 统计页面测试
- [ ] 统计数据显示正确
- [ ] 图表正常渲染

---

## 📱 响应式测试

在不同设备/屏幕尺寸下测试：

1. **桌面端**（1920px, 1440px）
2. **笔记本端**（1280px, 1024px）
3. **平板端**（768px）
4. **手机端**（375px, 414px）

**测试项目：**
- [ ] 布局不破裂
- [ ] 按钮大小适中
- [ ] 文本可读
- [ ] 图片不变形
- [ ] 导航菜单可用

---

## ⚠️ 常见问题

### Q: 直接打开index.html时页面空白？
A: 这是正常的，因为SPA应用需要通过HTTP服务器访问。请使用方法1或2进行测试。

### Q: 某些功能不工作？
A: 请确保使用开发服务器（方法1）进行测试，直接打开HTML文件可能缺少服务端支持。

### Q: 样式丢失？
A: 检查浏览器控制台（F12）是否有404错误。确保所有资源路径正确。

### Q: 如何检查控制台错误？
A:
1. 打开浏览器开发者工具（F12）
2. 切换到"Console"标签
3. 刷新页面
4. 查看是否有红色错误信息

---

## ✅ 部署前最终确认

在确认所有测试通过后，执行以下步骤：

```bash
# 1. 确保代码已更新
git status

# 2. 重新构建（如果有修改）
npm run build

# 3. 验证构建产物
ls -la dist/
```

**确认清单：**
- [ ] 所有本地测试通过
- [ ] 控制台无错误
- [ ] 构建目录包含所有必要文件
- [ ] SEO文件已更新（robots.txt, sitemap.xml）
- [ ] favicon已包含

---

## 📞 获得帮助

如果在测试中遇到问题：
1. 检查浏览器控制台错误信息
2. 确认步骤是否正确执行
3. 查看项目文档
4. 联系技术支持

**祝测试顺利！** 🎉
